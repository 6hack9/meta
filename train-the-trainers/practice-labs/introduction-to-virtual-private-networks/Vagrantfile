Vagrant.configure("2") do |config|
  config.vm.box = "ubuntu/bionic64"

  config.vm.provider "virtualbox" do |vb|
    vb.linked_clone = true
  end

  config.vm.provision "shell", path: "provision/install-openvpn.sh"

  config.vm.define "server" do |c|
    c.vm.network "private_network", ip: "172.22.33.2"
  end

  config.vm.define "client" do |c|
    c.vm.network "private_network", ip: "172.22.33.3"
    c.vm.post_up_message = <<~EOF
                              IIIIIMMMMMMMMMMMMIIIII
                          IIMMMMMMMMMMMMMMMMMMMMMMMMMMIII
                      IIMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMII
                   IIMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMII
                 IMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMI
               IMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMI
             IMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMI
            IMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
           MMMMMMMMMMMMMMMMMMMMMMMMIIII    IIIIIMMMMMMMMMMMMMMMMMMMMMMMI
          MMMMMMMMMMMMMMMMMMMMMII                IIMMMMMMMMMMMMMMMMMMMMMI
         MMMMMMMMMMMMMMMMMMMII                       IMMMMMMMMMMMMMMMMMMM
        IMMMMMMMMMMMMMMMMMMI                           IMMMMMMMMMMMMMMMMMM
       IMMMMMMMMMMMMMMMMMI         IIIIIIIIIIII         IMMMMMMMMMMMMMMMMMI
       MMMMMMMMMMMMMMMMMI        IIIIIIIIIIIIIIIII       IMMMMMMMMMMMMMMMMM
      IMMMMMMMMMMMMMMMMI       IIIIIIIIIIIIIIIIIIII       IMMMMMMMMMMMMMMMMI
      IMMMMMMMMMMMMMMMM       IIIIIIIIIIIIIIIIIIIIII       IMMMMMMMMMMMMMMMM
      MMMMMMMMMMMMMMMMI       IIIIIIIIIIIIIIIIIIIIIII      IMMMMMMMMMMMMMMMM
      MMMMMMMMMMMMMMMMI       IIIIIIIIIIIIIIIIIIIIIII      IMMMMMMMMMMMMMMMM
      MMMMMMMMMMMMMMMMI       IIIIIIIIIIIIIIIIIIIIIII      IMMMMMMMMMMMMMMMM
      IMMMMMMMMMMMMMMMM       IIIIIIIIIIIIIIIIIIIIII       IMMMMMMMMMMMMMMMM
      IMMMMMMMMMMMMMMMMI       IIIIIIIIIIIIIIIIIIII       IMMMMMMMMMMMMMMMMI
       MMMMMMMMMMMMMMMMMI        IIIIIIIIIIIIIIII        IMMMMMMMMMMMMMMMMM
       IMMMMMMMMMMMMMMMMMI          IIIIIIIIIII         IMMMMMMMMMMMMMMMMMI
        IMMMMMMMMMMMMMMMMMM          IIIIIIII          IMMMMMMMMMMMMMMMMMM
         MMMMMMMMMMMMMMMMMMMII       IIIIIIII       IIMMMMMMMMMMMMMMMMMMM
          MMMMMMMMMMMMMMMMMMMMMI    IIIIIIIIII     MMMMMMMMMMMMMMMMMMMMMI
           IMMMMMMMMMMMMMMMMMMI     IIIIIIIIII     IMMMMMMMMMMMMMMMMMMM
            IMMMMMMMMMMMMMMMMI      IIIIIIIIII      IMMMMMMMMMMMMMMMMM
             IMMMMMMMMMMMMMMI      IIIIIIIIIIII      IMMMMMMMMMMMMMMI
               IMMMMMMMMMMMI       IIIIIIIIIIII        MMMMMMMMMMMI
                 IMMMMMMMM         IIIIIIIIIIII         IMMMMMMMI
                   IIMMMM         IIIIIIIIIIIIII         IMMMII
                      II          IIIIIIIIIIIIII          II
                                  IIIIIIIIIIIIII
                                  IIIIIIIIIIIIII
    EOF
  end
end
